(function(){"use strict";var e={774:function(e,t,a){var r=a(751),o=a(641),i=a(33),n="data:image/png;base64,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",A="data:image/png;base64,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";const s={class:"search-box"},c={class:"search-bar"},l={class:"btn-area"},h={key:0,class:"loading-circle"},u={key:1,class:"search-icon",src:n,alt:"🔍"},d=["disabled"],g={key:0,class:"loading-circle"},f={key:1,class:"geolocation-icon",src:A,alt:"📍"},w={key:0,class:"search-error-msg"},m={key:1,class:"geolocation-error-msg"},L={key:0,class:"results-container"},p={class:"location-box"},v={class:"location"},b={class:"date"},E={class:"weather-box"},y={class:"temp"},B={class:"weather"},C={class:"weather-extras"},I={key:1,class:"err-no-data-cont"};function S(e,t,a,n,A,S){const k=(0,o.g2)("ExtraWidget");return(0,o.uX)(),(0,o.CE)("div",{id:"app",class:(0,i.C4)(A.appBgImage)},[(0,o.Lk)("main",null,[(0,o.Lk)("div",s,[(0,o.Lk)("div",c,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"search-input",placeholder:"Search...  (City name, Country code)","onUpdate:modelValue":t[0]||(t[0]=e=>A.query=e),onKeypress:t[1]||(t[1]=(0,r.jR)((...e)=>S.fetchWeather&&S.fetchWeather(...e),["enter"]))},null,544),[[r.Jo,A.query]]),(0,o.Lk)("div",l,[(0,o.Lk)("button",{class:"search-button",onClick:t[2]||(t[2]=(...e)=>S.fetchWeather&&S.fetchWeather(...e)),onMouseenter:t[3]||(t[3]=e=>A.forceShowSearch=!0),onMouseleave:t[4]||(t[4]=e=>A.forceShowSearch=!1)},[A.isLoadingSearch&&!A.forceShowSearch?((0,o.uX)(),(0,o.CE)("div",h)):((0,o.uX)(),(0,o.CE)("img",u))],32),(0,o.Lk)("button",{class:"geolocation-button",onClick:t[5]||(t[5]=(...e)=>S.getCurrentLocation&&S.getCurrentLocation(...e)),disabled:A.isLoadingLocation},[A.isLoadingLocation?((0,o.uX)(),(0,o.CE)("div",g)):((0,o.uX)(),(0,o.CE)("img",f))],8,d)])]),"Failed to fetch weather data"==A.weather.error?((0,o.uX)(),(0,o.CE)("div",w,"Couldn't find weather data for this location...")):(0,o.Q3)("",!0),A.geoLocationError?((0,o.uX)(),(0,o.CE)("div",m,(0,i.v_)(A.geoLocationError),1)):(0,o.Q3)("",!0)]),"undefined"!=typeof A.weather.main?((0,o.uX)(),(0,o.CE)("div",L,[(0,o.Lk)("div",p,[(0,o.Lk)("div",v,(0,i.v_)(A.weather.name)+", "+(0,i.v_)(A.weather.sys.country),1),(0,o.Lk)("div",b,(0,i.v_)(S.dateBuilder())+" "+(0,i.v_)(S.dateBuilder("localtime"))+" "+(0,i.v_)(S.dateBuilder("local_tz")),1)]),(0,o.Lk)("div",E,[(0,o.Lk)("div",y,(0,i.v_)(Math.round(A.weather.main.temp))+"°C",1),(0,o.Lk)("div",B,(0,i.v_)(A.weather.weather[0].main),1)]),t[6]||(t[6]=(0,o.Lk)("div",{class:"weather-spacer"},null,-1)),(0,o.Lk)("div",C,[(0,o.bF)(k,{title:"Feels Like",val:Math.round(A.weather.main.feels_like),unit:"°C"},null,8,["val"]),(0,o.bF)(k,{title:"Humidity",val:A.weather.main.humidity,unit:"%"},null,8,["val"]),(0,o.bF)(k,{title:"Wind Speed",val:(3.6*A.weather.wind.speed).toFixed(1),unit:" km/h"},null,8,["val"]),(0,o.bF)(k,{title:"Wind Direction",val:A.weather.wind.deg,unit:"°"},null,8,["val"]),(0,o.bF)(k,{title:"Remote Time",val:S.dateBuilder("remote_time")},null,8,["val"]),(0,o.bF)(k,{title:"Remote Timezone",val:S.dateBuilder("remote_tz")},null,8,["val"]),(0,o.bF)(k,{title:"Time Difference",val:S.dateBuilder("time_diff")},null,8,["val"])])])):(0,o.Q3)("",!0),"Failed to fetch weather data"==A.weather.error?((0,o.uX)(),(0,o.CE)("div",I)):(0,o.Q3)("",!0)])],2)}const k={class:"extra-widget"},R={class:"title"},D={class:"value"};function F(e,t,a,r,n,A){return(0,o.uX)(),(0,o.CE)("div",k,[(0,o.Lk)("span",R,(0,i.v_)(a.title),1),t[0]||(t[0]=(0,o.Lk)("br",null,null,-1)),(0,o.Lk)("span",D,(0,i.v_)(a.val)+(0,i.v_)(a.unit),1)])}var Y={name:"ExtraWidget",props:{title:{type:String,required:!0},val:{type:String,required:!0},unit:{type:String,required:!1}}},M=a(262);const N=(0,M.A)(Y,[["render",F],["__scopeId","data-v-84032700"]]);var P=N,J={name:"App",components:{ExtraWidget:P},data(){return{url_base:"https://weatherapp-backend-fawn.vercel.app/api/",query:"",weather:{},isLoadingSearch:!1,forceShowSearch:!1,isLoadingLocation:!1,geoLocationError:null,appBgImage:"undef"}},mounted(){this.getCurrentLocation()},methods:{fetchWeather(){this.isLoadingSearch=!0,fetch(`${this.url_base}weather?q=${this.query}`).then(e=>e.json()).then(this.setResults).catch(e=>{console.error("Error fetching weather by search:",e),this.isLoadingSearch=!1})},fetchWeatherByCoords(e,t){fetch(`${this.url_base}weather?lat=${e}&lon=${t}`).then(e=>e.json()).then(this.setResults).catch(e=>{console.error("Error fetching weather by coordinates:",e),this.isLoadingLocation=!1,this.geoLocationError="Failed to fetch weather data for your location."})},setResults(e){this.weather=e,this.geoLocationError=null,this.isLoadingSearch=!1,this.isLoadingLocation=!1,this.setAppBgImage()},getCurrentLocation(){if(!navigator.geolocation)return this.geoLocationError="Geolocation is not supported by this browser.",void console.error("Geolocation is not supported by this browser.");this.isLoadingLocation=!0,this.geoLocationError=null,navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,a=e.coords.longitude;console.log(`Geolocation API returned position: lat: ${t} | lon: ${a}`),this.fetchWeatherByCoords(t,a)},e=>{switch(this.isLoadingLocation=!1,e.code){case e.PERMISSION_DENIED:this.geoLocationError="Please allow location access, or enter a city manually.";break;case e.POSITION_UNAVAILABLE:this.geoLocationError="Location information is unavailable.";break;case e.TIMEOUT:this.geoLocationError="Location request timed out.";break;default:this.geoLocationError="An unknown error occurred while retrieving location.";break}console.error(`Geolocation API error: ${e.message}`)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},dateBuilder(e){let t=new Date;switch(e){case"localtime":return this.formatTime(t.getHours(),t.getMinutes());case"local_tz":return this.formatTimeZone(-t.getTimezoneOffset());case"remote_time":return this.formatTime(t.getHours(),t.getMinutes(),this.dateBuilder("tz_diff"));case"remote_tz":return this.formatTimeZone(this.weather.timezone/60);case"tz_diff":return this.weather.timezone/60+t.getTimezoneOffset();case"time_diff":return this.dateBuilder("tz_diff")<0?`-${this.formatTimeDiff(this.dateBuilder("tz_diff"))}`:`+${this.formatTimeDiff(this.dateBuilder("tz_diff"))}`;default:return this.currentDate()}},currentDate(){let e=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=new Date,r=t[a.getDay()],o=a.getDate(),i=e[a.getMonth()],n=a.getFullYear();return`${r}, ${o} ${i} ${n}`},formatTime(e,t,a=0){if(0==a)return`${`${e}`.padStart(2,"0")}:${`${t}`.padStart(2,"0")}`;let r=60*e+t+a;return r<0&&(r+=1440),`${(""+Math.floor(r/60)%24).padStart(2,"0")}:${(""+r%60).padStart(2,"0")}`},formatTimeDiff(e){return e%60==0?`${Math.floor(Math.abs(e)/60)}h`:`${`${Math.floor(Math.abs(e)/60)}`.padStart(2,"0")}:${(""+Math.abs(e)%60).padStart(2,"0")}`},formatTimeZone(e){return 0==e?"UTC":e>0?`UTC +${this.formatTimeDiff(e)}`:`UTC -${this.formatTimeDiff(e)}`},setAppBgImage(){if("undefined"==typeof this.weather.main)return void(this.appBgImage="undef");let e=this.weather.main.temp;this.appBgImage=e<=-12?"cold-5":e<=0?"cold-4":e<=10?"cold-3":e<=15?"cold-2":e<=19?"cold-1":e<=22?"midtemp":e<=25?"warm-1":e<=28?"warm-2":e<=32?"warm-3":e<=36?"warm-4":"warm-5"}}};const H=(0,M.A)(J,[["render",S]]);var O=H;(0,r.Ef)(O).mount("#app")}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,i){if(!r){var n=1/0;for(l=0;l<e.length;l++){r=e[l][0],o=e[l][1],i=e[l][2];for(var A=!0,s=0;s<r.length;s++)(!1&i||n>=i)&&Object.keys(a.O).every(function(e){return a.O[e](r[s])})?r.splice(s--,1):(A=!1,i<n&&(n=i));if(A){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,o,i]}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,n=r[0],A=r[1],s=r[2],c=0;if(n.some(function(t){return 0!==e[t]})){for(o in A)a.o(A,o)&&(a.m[o]=A[o]);if(s)var l=s(a)}for(t&&t(r);c<n.length;c++)i=n[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(l)},r=self["webpackChunkweatherapp"]=self["webpackChunkweatherapp"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],function(){return a(774)});r=a.O(r)})();
//# sourceMappingURL=app.3e25174e.js.map